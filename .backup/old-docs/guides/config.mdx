---
title: Configuring the SDK
description: Customize API keys, tracing and logging behaviour
---

import { Code } from '@astrojs/starlight/components';

export const setDefaultOpenAIKeyExample = `import { setDefaultOpenAIKey, Agent } from '@openai/agents';

// Set the default API key for all agents
setDefaultOpenAIKey(process.env.OPENAI_API_KEY!);

// Now all agents will use this key by default
const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});

const result = await agent.run('Hello!');`;

export const setDefaultOpenAIClientExample = `import OpenAI from 'openai';
import { setDefaultOpenAIClient, Agent } from '@openai/agents';

// Create a custom OpenAI client with specific configuration
const customClient = new OpenAI({
  apiKey: process.env.OPENAI_API_KEY,
  baseURL: 'https://my-custom-openai-proxy.com/v1',
  defaultHeaders: {
    'Custom-Header': 'my-value'
  },
  timeout: 30000, // 30 second timeout
});

// Set as default client for all agents
setDefaultOpenAIClient(customClient);

const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});`;

export const setOpenAIAPIExample = `import { setOpenAIAPI, Agent } from '@openai/agents';

// Configure OpenAI API settings globally
setOpenAIAPI({
  baseURL: 'https://my-openai-proxy.com/v1',
  defaultHeaders: {
    'Organization': 'org-123',
    'Custom-Header': 'value'
  },
  timeout: 60000, // 60 seconds
  maxRetries: 3,
});

const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});`;

export const setTracingExportApiKeyExample = `import { setTracingExportApiKey, Agent } from '@openai/agents';

// Enable trace export to OpenAI's tracing service
setTracingExportApiKey(process.env.OPENAI_API_KEY!);

// All agent runs will now be automatically traced
const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});

const result = await agent.run('Explain quantum computing');
// This run will be automatically traced and visible in the OpenAI dashboard`;

export const setTracingDisabledExample = `import { setTracingDisabled, Agent } from '@openai/agents';

// Disable tracing globally (useful for production or privacy)
setTracingDisabled(true);

const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});

// This run will not be traced
const result = await agent.run('Process sensitive data');

// Re-enable tracing if needed
setTracingDisabled(false);`;

export const getLoggerExample = `import { getLogger, Agent } from '@openai/agents';

// Get the SDK logger
const logger = getLogger();

// Configure logging level
logger.setLevel('debug'); // 'debug', 'info', 'warn', 'error'

// Add custom log handlers
logger.addHandler({
  log: (level, message, data) => {
    console.log(\`[\${level.toUpperCase()}] \${message}\`, data);
    
    // Send to external logging service
    if (level === 'error') {
      sendToErrorTracking(message, data);
    }
  }
});

const agent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a helpful assistant.',
});

// SDK operations will now be logged with your custom handler
const result = await agent.run('Hello!');`;

## API keys and clients

By default the SDK reads the `OPENAI_API_KEY` environment variable when first imported. If setting the variable is not possible you can call `setDefaultOpenAIKey()` manually.

<Code
  lang="typescript"
  code={setDefaultOpenAIKeyExample}
  title="Set default OpenAI key"
/>

You may also pass your own `OpenAI` client instance. The SDK will otherwise create one automatically using the default key.

<Code
  lang="typescript"
  code={setDefaultOpenAIClientExample}
  title="Set default OpenAI client"
/>

Finally you can switch between the Responses API and the Chat Completions API.

<Code lang="typescript" code={setOpenAIAPIExample} title="Set OpenAI API" />

## Tracing

Tracing is enabled by default and uses the OpenAI key from the section above. A separate key may be set via `setTracingExportApiKey()`.

<Code
  lang="typescript"
  code={setTracingExportApiKeyExample}
  title="Set tracing export API key"
/>

Tracing can also be disabled entirely.

<Code
  lang="typescript"
  code={setTracingDisabledExample}
  title="Disable tracing"
/>

## Debug logging

The SDK uses the [`debug`](https://www.npmjs.com/package/debug) package for debug logging. Set the `DEBUG` environment variable to `openai-agents*` to see verbose logs.

```bash
export DEBUG=openai-agents*
```

You can obtain a namespaced logger for your own modules using `getLogger(namespace)` from `@openai/agents`.

<Code lang="typescript" code={getLoggerExample} title="Get logger" />

### Sensitive data in logs

Certain logs may contain user data. Disable them by setting these environment variables.

To disable logging LLM inputs and outputs:

```bash
export OPENAI_AGENTS_DONT_LOG_MODEL_DATA=1
```

To disable logging tool inputs and outputs:

```bash
export OPENAI_AGENTS_DONT_LOG_TOOL_DATA=1
```
