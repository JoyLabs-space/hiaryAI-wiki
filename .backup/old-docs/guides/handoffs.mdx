---
title: Handoffs
description: Delegate tasks from one agent to another
---

import { Code } from '@astrojs/starlight/components';

export const basicUsageExample = `import { Agent } from '@openai/agents';

// Create specialized agents
const bookingAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You help users with booking appointments. Be concise and helpful.',
});

const refundAgent = new Agent({
  model: 'gpt-4o-mini', 
  instructions: 'You help users with refunds and cancellations. Be empathetic.',
});

// Main support agent with handoffs
const supportAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You are a customer support agent. Direct users to specialists when needed.',
  handoffs: [bookingAgent, refundAgent],
});

// The agent can now transfer to specialists
const result = await supportAgent.run('I need to cancel my booking and get a refund');`;

export const customizeHandoffExample = `import { Agent, handoff } from '@openai/agents';

const refundAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'Handle refund requests professionally.',
});

const supportAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'Provide customer support.',
  handoffs: [
    handoff({
      agent: refundAgent,
      name: 'escalate_to_refund_specialist',
      description: 'Transfer customer to refund specialist for complex refund issues',
    }),
  ],
});`;

export const handoffInputExample = `import { Agent } from '@openai/agents';

const orderAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'You handle order inquiries. Always ask for order number if not provided.',
});

const supportAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'Customer support agent',
  handoffs: [orderAgent],
});

// When transferring, context is preserved
const result = await supportAgent.run('My order #12345 is delayed');
// The orderAgent receives: "My order #12345 is delayed"`;

export const inputFilterExample = `import { Agent, handoff } from '@openai/agents';

const technicalAgent = new Agent({
  model: 'gpt-4o-mini', 
  instructions: 'Technical support specialist',
});

const supportAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'General support agent',
  handoffs: [
    handoff({
      agent: technicalAgent,
      inputFilter: (input) => \`Technical issue: \${input}\`,
    }),
  ],
});`;

export const recommendedPromptExample = `import { Agent } from '@openai/agents';

const billingAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: \`You are a billing specialist. 
  
When receiving a handoff, you should:
1. Acknowledge the transfer
2. Ask for account details if needed  
3. Provide clear billing assistance\`,
});

const supportAgent = new Agent({
  model: 'gpt-4o-mini',
  instructions: 'Transfer billing questions to the billing specialist.',
  handoffs: [billingAgent], 
});`;

Handoffs let an agent delegate part of a conversation to another agent. This is useful when different agents specialise in specific areas. In a customer support app for example, you might have agents that handle bookings, refunds or FAQs.

Handoffs are represented as tools to the LLM. If you hand off to an agent called `Refund Agent`, the tool name would be `transfer_to_refund_agent`.

## Creating a handoff

Every agent accepts a `handoffs` option. It can contain other `Agent` instances or `Handoff` objects returned by the `handoff()` helper.

### Basic usage

<Code lang="typescript" code={basicUsageExample} title="Basic handoffs" />

### Customising handoffs via `handoff()`

The `handoff()` function lets you tweak the generated tool.

- `agent` – the agent to hand off to.
- `toolNameOverride` – override the default `transfer_to_<agent_name>` tool name.
- `toolDescriptionOverride` – override the default tool description.
- `onHandoff` – callback when the handoff occurs. Receives a `RunContext` and optionally parsed input.
- `inputType` – expected input schema for the handoff.
- `inputFilter` – filter the history passed to the next agent.

<Code
  lang="typescript"
  code={customizeHandoffExample}
  title="Customized handoffs"
/>

## Handoff inputs

Sometimes you want the LLM to provide data when invoking a handoff. Define an input schema and use it in `handoff()`.

<Code lang="typescript" code={handoffInputExample} title="Handoff inputs" />

## Input filters

By default a handoff receives the entire conversation history. To modify what gets passed to the next agent, provide an `inputFilter`.
Common helpers live in `@openai/agents-core/extensions`.

<Code lang="typescript" code={inputFilterExample} title="Input filters" />

## Recommended prompts

LLMs respond more reliably when your prompts mention handoffs. The SDK exposes a recommended prefix via `RECOMMENDED_PROMPT_PREFIX`.

<Code
  lang="typescript"
  code={recommendedPromptExample}
  title="Recommended prompts"
/>
